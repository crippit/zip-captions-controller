"use strict";module.exports = validate10;module.exports.default = validate10;const schema11 = {"$schema":"http://json-schema.org/draft-07/schema#","type":"object","title":"ModuleManifest","properties":{"$schema":{"type":"string"},"id":{"type":"string","description":"Unique identifier for the module"},"name":{"type":"string","description":"Name of the module"},"shortname":{"type":"string"},"description":{"type":"string","description":"Description of the module "},"version":{"type":"string","description":"Current version of the module"},"isPrerelease":{"type":"boolean","description":"Is this a pre-release version"},"license":{"type":"string","description":"SPDX identifier for license of the module"},"repository":{"type":"string","description":"URL to the source repository"},"bugs":{"type":"string","description":"URL to bug tracker"},"maintainers":{"type":"array","description":"List of active maintiners","uniqueItems":true,"items":{"type":"object","title":"ModuleManifestMaintainer","properties":{"name":{"type":"string"},"email":{"type":"string"},"github":{"type":"string"},"url":{"type":"string"}},"required":["name"],"additionalProperties":false}},"legacyIds":{"type":"array","description":"If the module had a different unique identifier previously, then specify it here","uniqueItems":true,"items":{"type":"string"}},"runtime":{"type":"object","title":"ModuleManifestRuntime","description":"Information on how to execute the module","properties":{"type":{"type":"string","description":"Type of the module. Must be: node18 or node22","enum":["node18","node22"]},"api":{"type":"string","description":"Which host-api does it use. In the future alternate options will be allowed","enum":["nodejs-ipc"]},"apiVersion":{"type":"string","description":"The version of the host-api used"},"entrypoint":{"type":"string","description":"Entrypoint to pass to the runtime. eg index.js"},"permissions":{"type":"object","description":"Permissions required by the module. This is used to inform the user of the permissions required by the module.\nNote: this requires the node22 or newer runtime","properties":{"worker-threads":{"type":"boolean","description":"Enable if the module uses worker threads"},"child-process":{"type":"boolean","description":"Enable if the module uses child processes"},"native-addons":{"type":"boolean","description":"Enable if the module uses native addons"},"filesystem":{"type":"boolean","description":"Enable if the module requires read/write access to the filesystem"}},"additionalProperties":false}},"required":["type","api","apiVersion","entrypoint"]},"manufacturer":{"type":"string"},"products":{"type":"array","uniqueItems":true,"items":{"type":"string"},"minItems":1},"keywords":{"type":"array","uniqueItems":true,"items":{"type":"string"}},"bonjourQueries":{"type":"object","description":"If the device or software for your module supports bonjour announcements, Companion will offer an easy way to watch for these announcements.\nEach query you define must have a matching config field of type 'bonjour-device' with the same name","patternProperties":{"":{"oneOf":[{"$ref":"#/definitions/bonjourQuery"},{"type":"array","items":{"$ref":"#/definitions/bonjourQuery"}}]}}}},"required":["id","name","shortname","description","version","license","repository","bugs","maintainers","legacyIds","runtime","manufacturer","products","keywords"],"definitions":{"bonjourQuery":{"type":"object","title":"ModuleBonjourQuery","description":"","properties":{"type":{"type":"string"},"protocol":{"type":"string","enum":["tcp","udp"]},"port":{"type":"number"},"txt":{"type":"object","description":"Match on any txt values returned in the query. This is useful to filter out devices of the same 'type' that are not supported","patternProperties":{"":{"type":"string"}}}},"required":["type","protocol"]}}};const schema12 = {"type":"object","title":"ModuleBonjourQuery","description":"","properties":{"type":{"type":"string"},"protocol":{"type":"string","enum":["tcp","udp"]},"port":{"type":"number"},"txt":{"type":"object","description":"Match on any txt values returned in the query. This is useful to filter out devices of the same 'type' that are not supported","patternProperties":{"":{"type":"string"}}}},"required":["type","protocol"]};const func0 = require("ajv/dist/runtime/equal").default;const pattern0 = new RegExp("", "u");function validate10(data, {instancePath="", parentData, parentDataProperty, rootData=data}={}){let vErrors = null;let errors = 0;if(errors === 0){if(data && typeof data == "object" && !Array.isArray(data)){let missing0;if(((((((((((((((data.id === undefined) && (missing0 = "id")) || ((data.name === undefined) && (missing0 = "name"))) || ((data.shortname === undefined) && (missing0 = "shortname"))) || ((data.description === undefined) && (missing0 = "description"))) || ((data.version === undefined) && (missing0 = "version"))) || ((data.license === undefined) && (missing0 = "license"))) || ((data.repository === undefined) && (missing0 = "repository"))) || ((data.bugs === undefined) && (missing0 = "bugs"))) || ((data.maintainers === undefined) && (missing0 = "maintainers"))) || ((data.legacyIds === undefined) && (missing0 = "legacyIds"))) || ((data.runtime === undefined) && (missing0 = "runtime"))) || ((data.manufacturer === undefined) && (missing0 = "manufacturer"))) || ((data.products === undefined) && (missing0 = "products"))) || ((data.keywords === undefined) && (missing0 = "keywords"))){validate10.errors = [{instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: missing0},message:"must have required property '"+missing0+"'"}];return false;}else {if(data.$schema !== undefined){const _errs1 = errors;if(typeof data.$schema !== "string"){validate10.errors = [{instancePath:instancePath+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid0 = _errs1 === errors;}else {var valid0 = true;}if(valid0){if(data.id !== undefined){const _errs3 = errors;if(typeof data.id !== "string"){validate10.errors = [{instancePath:instancePath+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid0 = _errs3 === errors;}else {var valid0 = true;}if(valid0){if(data.name !== undefined){const _errs5 = errors;if(typeof data.name !== "string"){validate10.errors = [{instancePath:instancePath+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid0 = _errs5 === errors;}else {var valid0 = true;}if(valid0){if(data.shortname !== undefined){const _errs7 = errors;if(typeof data.shortname !== "string"){validate10.errors = [{instancePath:instancePath+"/shortname",schemaPath:"#/properties/shortname/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid0 = _errs7 === errors;}else {var valid0 = true;}if(valid0){if(data.description !== undefined){const _errs9 = errors;if(typeof data.description !== "string"){validate10.errors = [{instancePath:instancePath+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid0 = _errs9 === errors;}else {var valid0 = true;}if(valid0){if(data.version !== undefined){const _errs11 = errors;if(typeof data.version !== "string"){validate10.errors = [{instancePath:instancePath+"/version",schemaPath:"#/properties/version/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid0 = _errs11 === errors;}else {var valid0 = true;}if(valid0){if(data.isPrerelease !== undefined){const _errs13 = errors;if(typeof data.isPrerelease !== "boolean"){validate10.errors = [{instancePath:instancePath+"/isPrerelease",schemaPath:"#/properties/isPrerelease/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid0 = _errs13 === errors;}else {var valid0 = true;}if(valid0){if(data.license !== undefined){const _errs15 = errors;if(typeof data.license !== "string"){validate10.errors = [{instancePath:instancePath+"/license",schemaPath:"#/properties/license/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid0 = _errs15 === errors;}else {var valid0 = true;}if(valid0){if(data.repository !== undefined){const _errs17 = errors;if(typeof data.repository !== "string"){validate10.errors = [{instancePath:instancePath+"/repository",schemaPath:"#/properties/repository/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid0 = _errs17 === errors;}else {var valid0 = true;}if(valid0){if(data.bugs !== undefined){const _errs19 = errors;if(typeof data.bugs !== "string"){validate10.errors = [{instancePath:instancePath+"/bugs",schemaPath:"#/properties/bugs/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid0 = _errs19 === errors;}else {var valid0 = true;}if(valid0){if(data.maintainers !== undefined){let data10 = data.maintainers;const _errs21 = errors;if(errors === _errs21){if(Array.isArray(data10)){var valid1 = true;const len0 = data10.length;for(let i0=0; i0<len0; i0++){let data11 = data10[i0];const _errs23 = errors;if(errors === _errs23){if(data11 && typeof data11 == "object" && !Array.isArray(data11)){let missing1;if((data11.name === undefined) && (missing1 = "name")){validate10.errors = [{instancePath:instancePath+"/maintainers/" + i0,schemaPath:"#/properties/maintainers/items/required",keyword:"required",params:{missingProperty: missing1},message:"must have required property '"+missing1+"'"}];return false;}else {const _errs25 = errors;for(const key0 in data11){if(!((((key0 === "name") || (key0 === "email")) || (key0 === "github")) || (key0 === "url"))){validate10.errors = [{instancePath:instancePath+"/maintainers/" + i0,schemaPath:"#/properties/maintainers/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties"}];return false;break;}}if(_errs25 === errors){if(data11.name !== undefined){const _errs26 = errors;if(typeof data11.name !== "string"){validate10.errors = [{instancePath:instancePath+"/maintainers/" + i0+"/name",schemaPath:"#/properties/maintainers/items/properties/name/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid2 = _errs26 === errors;}else {var valid2 = true;}if(valid2){if(data11.email !== undefined){const _errs28 = errors;if(typeof data11.email !== "string"){validate10.errors = [{instancePath:instancePath+"/maintainers/" + i0+"/email",schemaPath:"#/properties/maintainers/items/properties/email/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid2 = _errs28 === errors;}else {var valid2 = true;}if(valid2){if(data11.github !== undefined){const _errs30 = errors;if(typeof data11.github !== "string"){validate10.errors = [{instancePath:instancePath+"/maintainers/" + i0+"/github",schemaPath:"#/properties/maintainers/items/properties/github/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid2 = _errs30 === errors;}else {var valid2 = true;}if(valid2){if(data11.url !== undefined){const _errs32 = errors;if(typeof data11.url !== "string"){validate10.errors = [{instancePath:instancePath+"/maintainers/" + i0+"/url",schemaPath:"#/properties/maintainers/items/properties/url/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid2 = _errs32 === errors;}else {var valid2 = true;}}}}}}}else {validate10.errors = [{instancePath:instancePath+"/maintainers/" + i0,schemaPath:"#/properties/maintainers/items/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}}var valid1 = _errs23 === errors;if(!valid1){break;}}if(valid1){let i1 = data10.length;let j0;if(i1 > 1){outer0:for(;i1--;){for(j0 = i1; j0--;){if(func0(data10[i1], data10[j0])){validate10.errors = [{instancePath:instancePath+"/maintainers",schemaPath:"#/properties/maintainers/uniqueItems",keyword:"uniqueItems",params:{i: i1, j: j0},message:"must NOT have duplicate items (items ## "+j0+" and "+i1+" are identical)"}];return false;break outer0;}}}}}}else {validate10.errors = [{instancePath:instancePath+"/maintainers",schemaPath:"#/properties/maintainers/type",keyword:"type",params:{type: "array"},message:"must be array"}];return false;}}var valid0 = _errs21 === errors;}else {var valid0 = true;}if(valid0){if(data.legacyIds !== undefined){let data16 = data.legacyIds;const _errs34 = errors;if(errors === _errs34){if(Array.isArray(data16)){var valid4 = true;const len1 = data16.length;for(let i2=0; i2<len1; i2++){const _errs36 = errors;if(typeof data16[i2] !== "string"){validate10.errors = [{instancePath:instancePath+"/legacyIds/" + i2,schemaPath:"#/properties/legacyIds/items/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid4 = _errs36 === errors;if(!valid4){break;}}if(valid4){let i3 = data16.length;let j1;if(i3 > 1){const indices0 = {};for(;i3--;){let item0 = data16[i3];if(typeof item0 !== "string"){continue;}if(typeof indices0[item0] == "number"){j1 = indices0[item0];validate10.errors = [{instancePath:instancePath+"/legacyIds",schemaPath:"#/properties/legacyIds/uniqueItems",keyword:"uniqueItems",params:{i: i3, j: j1},message:"must NOT have duplicate items (items ## "+j1+" and "+i3+" are identical)"}];return false;break;}indices0[item0] = i3;}}}}else {validate10.errors = [{instancePath:instancePath+"/legacyIds",schemaPath:"#/properties/legacyIds/type",keyword:"type",params:{type: "array"},message:"must be array"}];return false;}}var valid0 = _errs34 === errors;}else {var valid0 = true;}if(valid0){if(data.runtime !== undefined){let data18 = data.runtime;const _errs38 = errors;if(errors === _errs38){if(data18 && typeof data18 == "object" && !Array.isArray(data18)){let missing2;if(((((data18.type === undefined) && (missing2 = "type")) || ((data18.api === undefined) && (missing2 = "api"))) || ((data18.apiVersion === undefined) && (missing2 = "apiVersion"))) || ((data18.entrypoint === undefined) && (missing2 = "entrypoint"))){validate10.errors = [{instancePath:instancePath+"/runtime",schemaPath:"#/properties/runtime/required",keyword:"required",params:{missingProperty: missing2},message:"must have required property '"+missing2+"'"}];return false;}else {if(data18.type !== undefined){let data19 = data18.type;const _errs40 = errors;if(typeof data19 !== "string"){validate10.errors = [{instancePath:instancePath+"/runtime/type",schemaPath:"#/properties/runtime/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}if(!((data19 === "node18") || (data19 === "node22"))){validate10.errors = [{instancePath:instancePath+"/runtime/type",schemaPath:"#/properties/runtime/properties/type/enum",keyword:"enum",params:{allowedValues: schema11.properties.runtime.properties.type.enum},message:"must be equal to one of the allowed values"}];return false;}var valid6 = _errs40 === errors;}else {var valid6 = true;}if(valid6){if(data18.api !== undefined){let data20 = data18.api;const _errs42 = errors;if(typeof data20 !== "string"){validate10.errors = [{instancePath:instancePath+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}if(!(data20 === "nodejs-ipc")){validate10.errors = [{instancePath:instancePath+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/enum",keyword:"enum",params:{allowedValues: schema11.properties.runtime.properties.api.enum},message:"must be equal to one of the allowed values"}];return false;}var valid6 = _errs42 === errors;}else {var valid6 = true;}if(valid6){if(data18.apiVersion !== undefined){const _errs44 = errors;if(typeof data18.apiVersion !== "string"){validate10.errors = [{instancePath:instancePath+"/runtime/apiVersion",schemaPath:"#/properties/runtime/properties/apiVersion/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid6 = _errs44 === errors;}else {var valid6 = true;}if(valid6){if(data18.entrypoint !== undefined){const _errs46 = errors;if(typeof data18.entrypoint !== "string"){validate10.errors = [{instancePath:instancePath+"/runtime/entrypoint",schemaPath:"#/properties/runtime/properties/entrypoint/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid6 = _errs46 === errors;}else {var valid6 = true;}if(valid6){if(data18.permissions !== undefined){let data23 = data18.permissions;const _errs48 = errors;if(errors === _errs48){if(data23 && typeof data23 == "object" && !Array.isArray(data23)){const _errs50 = errors;for(const key1 in data23){if(!((((key1 === "worker-threads") || (key1 === "child-process")) || (key1 === "native-addons")) || (key1 === "filesystem"))){validate10.errors = [{instancePath:instancePath+"/runtime/permissions",schemaPath:"#/properties/runtime/properties/permissions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties"}];return false;break;}}if(_errs50 === errors){if(data23["worker-threads"] !== undefined){const _errs51 = errors;if(typeof data23["worker-threads"] !== "boolean"){validate10.errors = [{instancePath:instancePath+"/runtime/permissions/worker-threads",schemaPath:"#/properties/runtime/properties/permissions/properties/worker-threads/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid7 = _errs51 === errors;}else {var valid7 = true;}if(valid7){if(data23["child-process"] !== undefined){const _errs53 = errors;if(typeof data23["child-process"] !== "boolean"){validate10.errors = [{instancePath:instancePath+"/runtime/permissions/child-process",schemaPath:"#/properties/runtime/properties/permissions/properties/child-process/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid7 = _errs53 === errors;}else {var valid7 = true;}if(valid7){if(data23["native-addons"] !== undefined){const _errs55 = errors;if(typeof data23["native-addons"] !== "boolean"){validate10.errors = [{instancePath:instancePath+"/runtime/permissions/native-addons",schemaPath:"#/properties/runtime/properties/permissions/properties/native-addons/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid7 = _errs55 === errors;}else {var valid7 = true;}if(valid7){if(data23.filesystem !== undefined){const _errs57 = errors;if(typeof data23.filesystem !== "boolean"){validate10.errors = [{instancePath:instancePath+"/runtime/permissions/filesystem",schemaPath:"#/properties/runtime/properties/permissions/properties/filesystem/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid7 = _errs57 === errors;}else {var valid7 = true;}}}}}}else {validate10.errors = [{instancePath:instancePath+"/runtime/permissions",schemaPath:"#/properties/runtime/properties/permissions/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}}var valid6 = _errs48 === errors;}else {var valid6 = true;}}}}}}}else {validate10.errors = [{instancePath:instancePath+"/runtime",schemaPath:"#/properties/runtime/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}}var valid0 = _errs38 === errors;}else {var valid0 = true;}if(valid0){if(data.manufacturer !== undefined){const _errs59 = errors;if(typeof data.manufacturer !== "string"){validate10.errors = [{instancePath:instancePath+"/manufacturer",schemaPath:"#/properties/manufacturer/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid0 = _errs59 === errors;}else {var valid0 = true;}if(valid0){if(data.products !== undefined){let data29 = data.products;const _errs61 = errors;if(errors === _errs61){if(Array.isArray(data29)){if(data29.length < 1){validate10.errors = [{instancePath:instancePath+"/products",schemaPath:"#/properties/products/minItems",keyword:"minItems",params:{limit: 1},message:"must NOT have fewer than 1 items"}];return false;}else {var valid8 = true;const len2 = data29.length;for(let i4=0; i4<len2; i4++){const _errs63 = errors;if(typeof data29[i4] !== "string"){validate10.errors = [{instancePath:instancePath+"/products/" + i4,schemaPath:"#/properties/products/items/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid8 = _errs63 === errors;if(!valid8){break;}}if(valid8){let i5 = data29.length;let j2;if(i5 > 1){const indices1 = {};for(;i5--;){let item1 = data29[i5];if(typeof item1 !== "string"){continue;}if(typeof indices1[item1] == "number"){j2 = indices1[item1];validate10.errors = [{instancePath:instancePath+"/products",schemaPath:"#/properties/products/uniqueItems",keyword:"uniqueItems",params:{i: i5, j: j2},message:"must NOT have duplicate items (items ## "+j2+" and "+i5+" are identical)"}];return false;break;}indices1[item1] = i5;}}}}}else {validate10.errors = [{instancePath:instancePath+"/products",schemaPath:"#/properties/products/type",keyword:"type",params:{type: "array"},message:"must be array"}];return false;}}var valid0 = _errs61 === errors;}else {var valid0 = true;}if(valid0){if(data.keywords !== undefined){let data31 = data.keywords;const _errs65 = errors;if(errors === _errs65){if(Array.isArray(data31)){var valid10 = true;const len3 = data31.length;for(let i6=0; i6<len3; i6++){const _errs67 = errors;if(typeof data31[i6] !== "string"){validate10.errors = [{instancePath:instancePath+"/keywords/" + i6,schemaPath:"#/properties/keywords/items/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid10 = _errs67 === errors;if(!valid10){break;}}if(valid10){let i7 = data31.length;let j3;if(i7 > 1){const indices2 = {};for(;i7--;){let item2 = data31[i7];if(typeof item2 !== "string"){continue;}if(typeof indices2[item2] == "number"){j3 = indices2[item2];validate10.errors = [{instancePath:instancePath+"/keywords",schemaPath:"#/properties/keywords/uniqueItems",keyword:"uniqueItems",params:{i: i7, j: j3},message:"must NOT have duplicate items (items ## "+j3+" and "+i7+" are identical)"}];return false;break;}indices2[item2] = i7;}}}}else {validate10.errors = [{instancePath:instancePath+"/keywords",schemaPath:"#/properties/keywords/type",keyword:"type",params:{type: "array"},message:"must be array"}];return false;}}var valid0 = _errs65 === errors;}else {var valid0 = true;}if(valid0){if(data.bonjourQueries !== undefined){let data33 = data.bonjourQueries;const _errs69 = errors;if(errors === _errs69){if(data33 && typeof data33 == "object" && !Array.isArray(data33)){var valid12 = true;for(const key2 in data33){if(pattern0.test(key2)){let data34 = data33[key2];const _errs71 = errors;const _errs72 = errors;let valid13 = false;let passing0 = null;const _errs73 = errors;const _errs74 = errors;if(errors === _errs74){if(data34 && typeof data34 == "object" && !Array.isArray(data34)){let missing3;if(((data34.type === undefined) && (missing3 = "type")) || ((data34.protocol === undefined) && (missing3 = "protocol"))){const err0 = {instancePath:instancePath+"/bonjourQueries/" + key2.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/definitions/bonjourQuery/required",keyword:"required",params:{missingProperty: missing3},message:"must have required property '"+missing3+"'"};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}else {if(data34.type !== undefined){const _errs76 = errors;if(typeof data34.type !== "string"){const err1 = {instancePath:instancePath+"/bonjourQueries/" + key2.replace(/~/g, "~0").replace(/\//g, "~1")+"/type",schemaPath:"#/definitions/bonjourQuery/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}var valid15 = _errs76 === errors;}else {var valid15 = true;}if(valid15){if(data34.protocol !== undefined){let data36 = data34.protocol;const _errs78 = errors;if(typeof data36 !== "string"){const err2 = {instancePath:instancePath+"/bonjourQueries/" + key2.replace(/~/g, "~0").replace(/\//g, "~1")+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(!((data36 === "tcp") || (data36 === "udp"))){const err3 = {instancePath:instancePath+"/bonjourQueries/" + key2.replace(/~/g, "~0").replace(/\//g, "~1")+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/enum",keyword:"enum",params:{allowedValues: schema12.properties.protocol.enum},message:"must be equal to one of the allowed values"};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}var valid15 = _errs78 === errors;}else {var valid15 = true;}if(valid15){if(data34.port !== undefined){let data37 = data34.port;const _errs80 = errors;if(!((typeof data37 == "number") && (isFinite(data37)))){const err4 = {instancePath:instancePath+"/bonjourQueries/" + key2.replace(/~/g, "~0").replace(/\//g, "~1")+"/port",schemaPath:"#/definitions/bonjourQuery/properties/port/type",keyword:"type",params:{type: "number"},message:"must be number"};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}var valid15 = _errs80 === errors;}else {var valid15 = true;}if(valid15){if(data34.txt !== undefined){let data38 = data34.txt;const _errs82 = errors;if(errors === _errs82){if(data38 && typeof data38 == "object" && !Array.isArray(data38)){var valid16 = true;for(const key3 in data38){if(pattern0.test(key3)){const _errs84 = errors;if(typeof data38[key3] !== "string"){const err5 = {instancePath:instancePath+"/bonjourQueries/" + key2.replace(/~/g, "~0").replace(/\//g, "~1")+"/txt/" + key3.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/definitions/bonjourQuery/properties/txt/patternProperties//type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}var valid16 = _errs84 === errors;if(!valid16){break;}}}}else {const err6 = {instancePath:instancePath+"/bonjourQueries/" + key2.replace(/~/g, "~0").replace(/\//g, "~1")+"/txt",schemaPath:"#/definitions/bonjourQuery/properties/txt/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}var valid15 = _errs82 === errors;}else {var valid15 = true;}}}}}}else {const err7 = {instancePath:instancePath+"/bonjourQueries/" + key2.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/definitions/bonjourQuery/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}var _valid0 = _errs73 === errors;if(_valid0){valid13 = true;passing0 = 0;}const _errs86 = errors;if(errors === _errs86){if(Array.isArray(data34)){var valid17 = true;const len4 = data34.length;for(let i8=0; i8<len4; i8++){let data40 = data34[i8];const _errs88 = errors;const _errs89 = errors;if(errors === _errs89){if(data40 && typeof data40 == "object" && !Array.isArray(data40)){let missing4;if(((data40.type === undefined) && (missing4 = "type")) || ((data40.protocol === undefined) && (missing4 = "protocol"))){const err8 = {instancePath:instancePath+"/bonjourQueries/" + key2.replace(/~/g, "~0").replace(/\//g, "~1")+"/" + i8,schemaPath:"#/definitions/bonjourQuery/required",keyword:"required",params:{missingProperty: missing4},message:"must have required property '"+missing4+"'"};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}else {if(data40.type !== undefined){const _errs91 = errors;if(typeof data40.type !== "string"){const err9 = {instancePath:instancePath+"/bonjourQueries/" + key2.replace(/~/g, "~0").replace(/\//g, "~1")+"/" + i8+"/type",schemaPath:"#/definitions/bonjourQuery/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}var valid19 = _errs91 === errors;}else {var valid19 = true;}if(valid19){if(data40.protocol !== undefined){let data42 = data40.protocol;const _errs93 = errors;if(typeof data42 !== "string"){const err10 = {instancePath:instancePath+"/bonjourQueries/" + key2.replace(/~/g, "~0").replace(/\//g, "~1")+"/" + i8+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}if(!((data42 === "tcp") || (data42 === "udp"))){const err11 = {instancePath:instancePath+"/bonjourQueries/" + key2.replace(/~/g, "~0").replace(/\//g, "~1")+"/" + i8+"/protocol",schemaPath:"#/definitions/bonjourQuery/properties/protocol/enum",keyword:"enum",params:{allowedValues: schema12.properties.protocol.enum},message:"must be equal to one of the allowed values"};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}var valid19 = _errs93 === errors;}else {var valid19 = true;}if(valid19){if(data40.port !== undefined){let data43 = data40.port;const _errs95 = errors;if(!((typeof data43 == "number") && (isFinite(data43)))){const err12 = {instancePath:instancePath+"/bonjourQueries/" + key2.replace(/~/g, "~0").replace(/\//g, "~1")+"/" + i8+"/port",schemaPath:"#/definitions/bonjourQuery/properties/port/type",keyword:"type",params:{type: "number"},message:"must be number"};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}var valid19 = _errs95 === errors;}else {var valid19 = true;}if(valid19){if(data40.txt !== undefined){let data44 = data40.txt;const _errs97 = errors;if(errors === _errs97){if(data44 && typeof data44 == "object" && !Array.isArray(data44)){var valid20 = true;for(const key4 in data44){if(pattern0.test(key4)){const _errs99 = errors;if(typeof data44[key4] !== "string"){const err13 = {instancePath:instancePath+"/bonjourQueries/" + key2.replace(/~/g, "~0").replace(/\//g, "~1")+"/" + i8+"/txt/" + key4.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/definitions/bonjourQuery/properties/txt/patternProperties//type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}var valid20 = _errs99 === errors;if(!valid20){break;}}}}else {const err14 = {instancePath:instancePath+"/bonjourQueries/" + key2.replace(/~/g, "~0").replace(/\//g, "~1")+"/" + i8+"/txt",schemaPath:"#/definitions/bonjourQuery/properties/txt/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}var valid19 = _errs97 === errors;}else {var valid19 = true;}}}}}}else {const err15 = {instancePath:instancePath+"/bonjourQueries/" + key2.replace(/~/g, "~0").replace(/\//g, "~1")+"/" + i8,schemaPath:"#/definitions/bonjourQuery/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}var valid17 = _errs88 === errors;if(!valid17){break;}}}else {const err16 = {instancePath:instancePath+"/bonjourQueries/" + key2.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//oneOf/1/type",keyword:"type",params:{type: "array"},message:"must be array"};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}var _valid0 = _errs86 === errors;if(_valid0 && valid13){valid13 = false;passing0 = [passing0, 1];}else {if(_valid0){valid13 = true;passing0 = 1;}}if(!valid13){const err17 = {instancePath:instancePath+"/bonjourQueries/" + key2.replace(/~/g, "~0").replace(/\//g, "~1"),schemaPath:"#/properties/bonjourQueries/patternProperties//oneOf",keyword:"oneOf",params:{passingSchemas: passing0},message:"must match exactly one schema in oneOf"};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;validate10.errors = vErrors;return false;}else {errors = _errs72;if(vErrors !== null){if(_errs72){vErrors.length = _errs72;}else {vErrors = null;}}}var valid12 = _errs71 === errors;if(!valid12){break;}}}}else {validate10.errors = [{instancePath:instancePath+"/bonjourQueries",schemaPath:"#/properties/bonjourQueries/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}}var valid0 = _errs69 === errors;}else {var valid0 = true;}}}}}}}}}}}}}}}}}}}else {validate10.errors = [{instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}}validate10.errors = vErrors;return errors === 0;}